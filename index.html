<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>v8.go by idada</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>v8.go</h1>
        <p>V8 JavaScript engine bindings for Go</p>
        <p class="view"><a href="https://github.com/idada/v8.go">View the Project on GitHub <small>idada/v8.go</small></a></p>
        <ul>
          <li><a href="https://github.com/idada/v8.go/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/idada/v8.go/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/idada/v8.go">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="v8go" class="anchor" href="#v8go"><span class="octicon octicon-link"></span></a>v8.go</h1>

<p>V8 JavaScript engine bindings for Go.</p>

<h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<ul>
<li>Thread safe</li>
<li>Thorough and careful testing</li>
<li>Boolean, Number, String, Object, Array, Regexp, Function</li>
<li>Compile and run JavaScript</li>
<li>Save and load pre-compiled script data</li>
<li>Create JavaScript context with global object template</li>
<li>Operate JavaScript object properties and array elements in Go</li>
<li>Define JavaScript object template in Go with property accessors and interceptors</li>
<li>Define JavaScript function template in Go</li>
<li>Catch JavaScript exception in Go</li>
<li>Throw JavaScript exception by Go</li>
<li>JSON parse and generate</li>
</ul><h1>
<a name="install" class="anchor" href="#install"><span class="octicon octicon-link"></span></a>Install</h1>

<p>For 'curl' user. please run this shell command:</p>

<blockquote>
<p>curl -O <a href="https://raw.github.com/idada/v8.go/master/get.sh">https://raw.github.com/idada/v8.go/master/get.sh</a> &amp;&amp; chmod +x get.sh &amp;&amp; ./get.sh v8.go</p>
</blockquote>

<p>For 'wget' user. Please run this shell command:</p>

<blockquote>
<p>wget <a href="https://raw.github.com/idada/v8.go/master/get.sh">https://raw.github.com/idada/v8.go/master/get.sh</a> &amp;&amp; chmod +x get.sh &amp;&amp; ./get.sh v8.go</p>
</blockquote>

<p>Note: require Go version 1.2 and Git.</p>

<h1>
<a name="hello-world" class="anchor" href="#hello-world"><span class="octicon octicon-link"></span></a>Hello World</h1>

<p>This 'Hello World' program shows how to use v8.go to compile and run JavaScript code then get the result.</p>

<div class="highlight highlight-go"><pre><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"github.com/idada/v8.go"</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">engine</span> <span class="o">:=</span> <span class="nx">v8</span><span class="p">.</span><span class="nx">NewEngine</span><span class="p">()</span>
    <span class="nx">script</span> <span class="o">:=</span> <span class="nx">engine</span><span class="p">.</span><span class="nx">Compile</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="s">"'Hello ' + 'World!'"</span><span class="p">),</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="nx">context</span> <span class="o">:=</span> <span class="nx">engine</span><span class="p">.</span><span class="nx">NewContext</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>

    <span class="nx">context</span><span class="p">.</span><span class="nx">Scope</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">cs</span> <span class="nx">v8</span><span class="p">.</span><span class="nx">ContextScope</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">:=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">Run</span><span class="p">()</span>
        <span class="nb">println</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">ToString</span><span class="p">())</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>

<h1>
<a name="%E4%B8%AD%E6%96%87%E4%BB%8B%E7%BB%8D" class="anchor" href="#%E4%B8%AD%E6%96%87%E4%BB%8B%E7%BB%8D"><span class="octicon octicon-link"></span></a>中文介绍</h1>

<p>V8引擎的Go语言绑定。</p>

<h1>
<a name="%E7%89%B9%E6%80%A7" class="anchor" href="#%E7%89%B9%E6%80%A7"><span class="octicon octicon-link"></span></a>特性</h1>

<ul>
<li>线程安全</li>
<li>详细的测试</li>
<li>数据类型：Boolean, Number, String, Object, Array, Regexp, Function</li>
<li>编译并运行JavaScript</li>
<li>保存和加载预编译的JavaScript数据</li>
<li>创建带有全局对象模板的Context</li>
<li>在Go语言端操作和访问JavaScript数组的元素</li>
<li>在Go语言端操作和访问JavaScript对象的属性</li>
<li>用Go语言创建支持属性访问器和拦截器的JavaScript对象模板</li>
<li>用Go语言创建JavaScript函数模板</li>
<li>在Go语言端捕获JavaScript的异常</li>
<li>从Go语言端抛出JavaScript的异常</li>
<li>JSON解析和生成</li>
</ul><h1>
<a name="%E5%AE%89%E8%A3%85" class="anchor" href="#%E5%AE%89%E8%A3%85"><span class="octicon octicon-link"></span></a>安装</h1>

<p>'curl'用户请运行以下脚本：</p>

<blockquote>
<p>curl -O <a href="https://raw.github.com/idada/v8.go/master/get.sh">https://raw.github.com/idada/v8.go/master/get.sh</a> &amp;&amp; chmod +x get.sh &amp;&amp; ./get.sh v8.go</p>
</blockquote>

<p>'wget'用户请运行以下脚本：</p>

<blockquote>
<p>wget <a href="https://raw.github.com/idada/v8.go/master/get.sh">https://raw.github.com/idada/v8.go/master/get.sh</a> &amp;&amp; chmod +x get.sh &amp;&amp; ./get.sh v8.go</p>
</blockquote>

<p>需求本地安装有Go 1.2和git命令。</p>

<h1>
<a name="hello-world-1" class="anchor" href="#hello-world-1"><span class="octicon octicon-link"></span></a>Hello World</h1>

<p>以下是一段Hello World程序，用来展示v8.go如何编译和运行JavaScript并获得结果：</p>

<div class="highlight highlight-go"><pre><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">"github.com/idada/v8.go"</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">engine</span> <span class="o">:=</span> <span class="nx">v8</span><span class="p">.</span><span class="nx">NewEngine</span><span class="p">()</span>
    <span class="nx">script</span> <span class="o">:=</span> <span class="nx">engine</span><span class="p">.</span><span class="nx">Compile</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="s">"'Hello ' + 'World!'"</span><span class="p">),</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="nx">context</span> <span class="o">:=</span> <span class="nx">engine</span><span class="p">.</span><span class="nx">NewContext</span><span class="p">(</span><span class="kc">nil</span><span class="p">)</span>

    <span class="nx">context</span><span class="p">.</span><span class="nx">Scope</span><span class="p">(</span><span class="kd">func</span><span class="p">(</span><span class="nx">cs</span> <span class="nx">v8</span><span class="p">.</span><span class="nx">ContextScope</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">:=</span> <span class="nx">script</span><span class="p">.</span><span class="nx">Run</span><span class="p">()</span>
        <span class="nb">println</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">ToString</span><span class="p">())</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/idada">idada</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-46130857-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>